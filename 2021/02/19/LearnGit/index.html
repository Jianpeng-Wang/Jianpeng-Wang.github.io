<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Git学习笔记一、Git基础1、Git简介1）Git简介Git 是一个开源的分布式版本控制系统，用于敏捷高效地处理任何或小或大的项目。 Git 是 Linus Torvalds 为了帮助管理 Linux 内核开发而开发的一个开放源码的版本控制软件。 Git 与常用的版本控制工具 CVS, Subversion 等不同，它采用了分布式版本库的方式，不必服务器端软件支持。  Git 是目前世界上最先进">
<meta property="og:type" content="article">
<meta property="og:title" content="LearnGit">
<meta property="og:url" content="http://example.com/2021/02/19/LearnGit/index.html">
<meta property="og:site_name" content="JeepBlog">
<meta property="og:description" content="Git学习笔记一、Git基础1、Git简介1）Git简介Git 是一个开源的分布式版本控制系统，用于敏捷高效地处理任何或小或大的项目。 Git 是 Linus Torvalds 为了帮助管理 Linux 内核开发而开发的一个开放源码的版本控制软件。 Git 与常用的版本控制工具 CVS, Subversion 等不同，它采用了分布式版本库的方式，不必服务器端软件支持。  Git 是目前世界上最先进">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://www.runoob.com/wp-content/uploads/2015/02/20140127131250906">
<meta property="og:image" content="https://www.w3cschool.cn/attachments/image/20180207/1517985311491141.png">
<meta property="og:image" content="https://www.w3cschool.cn/attachments/image/20180207/1517985411703176.png">
<meta property="og:image" content="https://www.w3cschool.cn/attachments/day_180207/201802071444431399.png">
<meta property="og:image" content="https://www.w3cschool.cn/attachments/image/20180208/1518075153614121.png">
<meta property="og:image" content="https://www.w3cschool.cn/attachments/image/20180207/1517988829590561.png">
<meta property="og:image" content="https://www.w3cschool.cn/attachments/image/20180207/1517988901719874.png">
<meta property="og:image" content="https://7n.w3cschool.cn/attachments/image/20180206/1517912752548369.png">
<meta property="og:image" content="https://7n.w3cschool.cn/attachments/image/20180206/1517912872173257.png">
<meta property="og:image" content="https://7n.w3cschool.cn/attachments/image/20180206/1517913443443309.png">
<meta property="og:image" content="https://7n.w3cschool.cn/attachments/image/20180206/1517914230728081.png">
<meta property="og:image" content="https://7n.w3cschool.cn/attachments/image/20180206/1517914345705559.png">
<meta property="og:image" content="https://7n.w3cschool.cn/attachments/image/20180206/1517901301442263.png">
<meta property="og:image" content="https://7n.w3cschool.cn/attachments/image/20180206/1517901410552553.png">
<meta property="og:image" content="https://7n.w3cschool.cn/attachments/image/20180206/1517902280679447.png">
<meta property="og:image" content="https://7n.w3cschool.cn/attachments/image/20180206/1517902588544573.png">
<meta property="og:image" content="https://7n.w3cschool.cn/attachments/image/20180206/1517902830707791.png">
<meta property="og:image" content="https://7n.w3cschool.cn/attachments/image/20180206/1517919977485573.png">
<meta property="og:image" content="https://7n.w3cschool.cn/attachments/image/20180206/1517920577627795.png">
<meta property="og:image" content="https://www.w3cschool.cn/attachments/day_180207/201802071914079611.png">
<meta property="og:image" content="https://7n.w3cschool.cn/attachments/image/20180207/1517973819584085.png">
<meta property="og:image" content="https://7n.w3cschool.cn/attachments/image/20180203/1517648066703438.png">
<meta property="og:image" content="https://7n.w3cschool.cn/attachments/image/20180203/1517648268860499.png">
<meta property="article:published_time" content="2021-02-19T06:34:48.000Z">
<meta property="article:modified_time" content="2021-02-19T06:34:48.000Z">
<meta property="article:author" content="JeepWang">
<meta property="article:tag" content="git">
<meta property="article:tag" content="版本管理工具">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://www.runoob.com/wp-content/uploads/2015/02/20140127131250906">

<link rel="canonical" href="http://example.com/2021/02/19/LearnGit/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>LearnGit | JeepBlog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">JeepBlog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/02/19/LearnGit/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="JeepWang">
      <meta itemprop="description" content="记录成长过程中的点点滴滴。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JeepBlog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          LearnGit
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-02-19 14:34:48" itemprop="dateCreated datePublished" datetime="2021-02-19T14:34:48+08:00">2021-02-19</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Git学习笔记"><a href="#Git学习笔记" class="headerlink" title="Git学习笔记"></a>Git学习笔记</h1><h2 id="一、Git基础"><a href="#一、Git基础" class="headerlink" title="一、Git基础"></a>一、Git基础</h2><h3 id="1、Git简介"><a href="#1、Git简介" class="headerlink" title="1、Git简介"></a>1、Git简介</h3><h4 id="1）Git简介"><a href="#1）Git简介" class="headerlink" title="1）Git简介"></a>1）Git简介</h4><p>Git 是一个开源的分布式版本控制系统，用于敏捷高效地处理任何或小或大的项目。</p>
<p>Git 是 Linus Torvalds 为了帮助管理 Linux 内核开发而开发的一个开放源码的版本控制软件。</p>
<p>Git 与常用的版本控制工具 CVS, Subversion 等不同，它采用了分布式版本库的方式，不必服务器端软件支持。</p>
<blockquote>
<p>Git 是目前世界上最先进的分布式版本控制系统（没有之一）。</p>
</blockquote>
<a id="more"></a>

<h4 id="2）Git-简史"><a href="#2）Git-简史" class="headerlink" title="2）Git 简史"></a>2）Git 简史</h4><p><strong>Git</strong> 诞生于一个极富纷争大举创新的年代。Linux 内核开源项目有着为数众广的参与者。绝大多数的 Linux 内核维护工作都花在了提交补丁和保存归档的繁琐事务上（1991－2002年间）。到 2002 年，整个项目组开始启用分布式版本控制系统 BitKeeper 来管理和维护代码。</p>
<p>到了 2005 年，开发 BitKeeper 的商业公司同 Linux 内核开源社区的合作关系结束，他们收回了免费使用 BitKeeper 的权力。这就迫使 Linux 开源社区（特别是 Linux 的缔造者 <strong>Linus Torvalds</strong> ）不得不吸取教训，只有开发一套属于自己的版本控制系统才不至于重蹈覆辙。</p>
<p>他们对新的系统制订了若干目标：</p>
<ul>
<li>速度</li>
<li>简单的设计</li>
<li>对非线性开发模式的强力支持（允许上千个并行开发的分支）</li>
<li>完全分布式</li>
<li>有能力高效管理类似 Linux 内核一样的超大规模项目（速度和数据量）</li>
</ul>
<blockquote>
<p>自诞生于 2005 年以来，Git 日臻成熟完善，在高度易用的同时，仍然保留着初期设定的目标。它的速度飞快，极其适合管理大项目，它还有着令人难以置信的非线性分支管理系统，可以应付各种复杂的项目开发需求。</p>
</blockquote>
<h4 id="3）Git-与-SVN-区别"><a href="#3）Git-与-SVN-区别" class="headerlink" title="3）Git 与 SVN 区别"></a>3）Git 与 SVN 区别</h4><p><strong>SVN</strong> 是 Subversion 的简称，是一个开放源代码的版本控制系统，相较于 RCS、CVS，它采用了分支管理系统，它的设计目标就是取代 CVS。</p>
<p><strong>GIT</strong> 不仅仅是个版本控制系统，它也是个内容管理系统(CMS), 工作管理系统等。</p>
<p>如果你是一个具有使用 SVN 背景的人，你需要做一定的思想转换，来适应 GIT 提供的一些概念和特征。</p>
<p><strong>Git 与 SVN 区别点：</strong></p>
<p>  1、GIT 是分布式的，SVN 不是：这是 GIT 和其它非分布式的版本控制系统，例如 SVN，CVS 等，最核心的区别。</p>
<p>  2、GIT 把内容按元数据方式存储，而 SVN 是按文件：所有的资源控制系统都是把文件的元信息隐藏在一个类似 .svn , .cvs 等的文件夹里。</p>
<p>  3、GIT 分支和SVN的分支不同：分支在SVN中一点不特别，就是版本库中的另外的一个目录。</p>
<p>  4、GIT 没有一个全局的版本号，而 SVN 有：目前为止这是跟 SVN 相比 GIT 缺少的最大的一个特征。<br>  5、GIT 的内容完整性要优于 SVN：GIT 的内容存储使用的是 SHA-1哈希算法。这能确保代码内容的完整性，确保在遇到磁盘故障和网络问题时降低对版本库的破坏。</p>
<h3 id="2、Git安装"><a href="#2、Git安装" class="headerlink" title="2、Git安装"></a>2、Git安装</h3><h4 id="1）Git安装"><a href="#1）Git安装" class="headerlink" title="1）Git安装"></a>1）Git安装</h4><p>在使用 Git 前我们需要先安装 Git。Git 目前支持 Linux/Unix、Solaris、Mac 和 Windows 平台上运行。</p>
<p>Git 各平台安装包下载地址为：<a target="_blank" rel="noopener" href="http://git-scm.com/downloads">http://git-scm.com/downloads</a></p>
<h4 id="2）在-Linux-平台上安装"><a href="#2）在-Linux-平台上安装" class="headerlink" title="2）在 Linux 平台上安装"></a>2）在 Linux 平台上安装</h4><p>首先，你可以试着输入 git，看看系统有没有安装 Git： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git</span><br><span class="line">The program &#39;git&#39; is currently not installed. You can install it by typing:</span><br><span class="line">sudo apt-get install git</span><br></pre></td></tr></table></figure>
<p>像上面的命令，有很多 Linux 会友好地告诉你 Git 没有安装，还会告诉你如何安装 Git。</p>
<p><strong>Debian/Ubuntu</strong></p>
<p>在 Ubuntu 这类 Debian 体系的系统上，可以用 apt-get 安装： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ apt-get install git -y</span><br></pre></td></tr></table></figure>
<p><strong>Centos/RedHat</strong></p>
<p>如果你使用的系统是 Centos/RedHat 安装命令为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install git -y</span><br></pre></td></tr></table></figure>
<p><strong>从源代码安装</strong></p>
<p>我们来学习在 Linux 中如何使用源代码安装 Git, 有些 Linux 版本自带的安装包更新起来并不及时，那么从源代码安装其实该算是最佳选择。</p>
<p>Git 的工作需要调用 curl，zlib，openssl，expat，libiconv 等库的代码，所以需要先安装这些依赖工具。</p>
<p>在有 yum 的系统上（比如 Fedora）可以用下面的命令安装： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ yum install curl-devel expat-devel gettext-devel \</span><br><span class="line">  openssl-devel zlib-devel</span><br></pre></td></tr></table></figure>
<p>在有 apt-get 的系统上（比如 Debian 体系）可以用下面的命令安装：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ apt-get install libcurl4-gnutls-dev libexpat1-dev gettext \</span><br><span class="line">  libz-dev libssl-dev</span><br></pre></td></tr></table></figure>
<p>之后，从下面的 Git 官方站点下载最新版本源代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;git-scm.com&#x2F;download</span><br></pre></td></tr></table></figure>
<p>然后编译并安装：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ tar -zxf git-1.7.2.2.tar.gz</span><br><span class="line">$ cd git-1.7.2.2</span><br><span class="line">$ make prefix&#x3D;&#x2F;usr&#x2F;local all</span><br><span class="line">$ sudo make prefix&#x3D;&#x2F;usr&#x2F;local install</span><br></pre></td></tr></table></figure>


<h4 id="3）在-Windows-平台上安装"><a href="#3）在-Windows-平台上安装" class="headerlink" title="3）在 Windows 平台上安装"></a>3）在 Windows 平台上安装</h4><p>在 Windows 平台上安装 Git 同样轻松，有个叫做 msysGit 的项目提供了安装包，可以到 GitHub 的页面上下载 exe 安装文件并运行：</p>
<p>安装包下载地址：<a target="_blank" rel="noopener" href="http://msysgit.github.io/">http://msysgit.github.io/</a></p>
<p><img src="http://www.runoob.com/wp-content/uploads/2015/02/20140127131250906" alt="Windows 上安装 Git"></p>
<p>完成安装之后，就可以使用命令行的 git 工具（已经自带了 ssh 客户端）了，另外还有一个图形界面的 Git 项目管理工具。</p>
<p>在开始菜单里找到”Git”-&gt;”Git Bash”</p>
<p><img src="https://www.w3cschool.cn/attachments/image/20180207/1517985311491141.png" alt="img"></p>
<p>点击会弹出 Git 命令窗口，你可以在该窗口进行 Git 操作。</p>
<p><img src="https://www.w3cschool.cn/attachments/image/20180207/1517985411703176.png" alt="img"></p>
<h4 id="4）在-Mac-平台上安装"><a href="#4）在-Mac-平台上安装" class="headerlink" title="4）在 Mac 平台上安装"></a>4）在 Mac 平台上安装</h4><p>可以使用图形化 Git 安装工具</p>
<p>下载地址为：<a target="_blank" rel="noopener" href="http://sourceforge.net/projects/git-osx-installer/">http://sourceforge.net/projects/git-osx-installer/</a></p>
<p>安装界面如下所示：</p>
<p><img src="https://www.w3cschool.cn/attachments/day_180207/201802071444431399.png" alt="18333fig0107-tn"></p>
<p>(Git OS X 安装工具) </p>
<p>通过 MacPorts 安装 (<a target="_blank" rel="noopener" href="http://www.macports.org/">http://www.macports.org</a>)</p>
<p>如果已经装好了 MacPorts，也可以用下面的命令安装 Git：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo port install git-core +svn +doc +bash_completion +gitweb</span><br></pre></td></tr></table></figure>
<p>这种方式就不需要再自己安装依赖库了，Macports 会帮你搞定这些麻烦事。</p>
<blockquote>
<p>sudo 是允许系统管理员让普通用户执行一些或者全部的 root 命令的一个工具。</p>
</blockquote>
<h3 id="3、Git工作流程"><a href="#3、Git工作流程" class="headerlink" title="3、Git工作流程"></a>3、Git工作流程</h3><h4 id="1）Git工作流程"><a href="#1）Git工作流程" class="headerlink" title="1）Git工作流程"></a>1）Git工作流程</h4><p>Git 的一般工作流程如下：</p>
<ul>
<li>克隆 Git 资源作为工作目录。</li>
<li>在克隆的资源上添加或修改文件。</li>
<li>如果其他人修改了，你可以更新资源。</li>
<li>在提交前查看修改。</li>
<li>提交修改。</li>
<li>在修改完成后，如果发现错误，可以撤回提交并再次修改并提交。</li>
</ul>
<p><strong>下图展示了 Git 的工作流程：</strong></p>
<p><img src="https://www.w3cschool.cn/attachments/image/20180208/1518075153614121.png" alt="img"></p>
<h4 id="2）Git-工作区、暂存区和版本库"><a href="#2）Git-工作区、暂存区和版本库" class="headerlink" title="2）Git 工作区、暂存区和版本库"></a>2）Git 工作区、暂存区和版本库</h4><p><strong>基本概念</strong></p>
<p>我们先来理解下Git 工作区、暂存区和版本库概念</p>
<ul>
<li><p>工作区：就是你在电脑里能看到的目录。</p>
</li>
<li><p>暂存区：英文叫 stage, 或 index。一般存放在 “.git目录下” 下的 index 文件（.git/index）中，所以我们把暂存区有时也叫作索引（index）。</p>
</li>
<li><p>版本库：工作区有一个隐藏目录 .git，这个不算工作区，而是 Git 的版本库。</p>
<p>如下图所示:</p>
</li>
</ul>
<p><img src="https://www.w3cschool.cn/attachments/image/20180207/1517988829590561.png" alt="img"></p>
<p>Git 向仓库中添加文件流程, 如下图所示:</p>
<p><img src="https://www.w3cschool.cn/attachments/image/20180207/1517988901719874.png" alt="img"></p>
<h2 id="二、基本操作"><a href="#二、基本操作" class="headerlink" title="二、基本操作"></a>二、基本操作</h2><h3 id="1、创建版本库"><a href="#1、创建版本库" class="headerlink" title="1、创建版本库"></a>1、创建版本库</h3><h4 id="1）创建版本库-git-init"><a href="#1）创建版本库-git-init" class="headerlink" title="1）创建版本库 ( git init )"></a>1）创建版本库 ( git init )</h4><p>用 git init 在目录中创建新的 Git 仓库。 你可以在任何时候、任何目录中这么做，完全是本地化的。</p>
<p>在目录中执行 git init，就可以创建一个 Git 仓库了。比如我们创建 gitlearn 项目：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir gitlearn</span><br><span class="line">$ cd gitlearn</span><br><span class="line">$ git init</span><br><span class="line">Initialized empty Git repository in &#x2F;root&#x2F;gitlesson&#x2F;gitlearn&#x2F;.git&#x2F;</span><br><span class="line"># 在 &#x2F;root&#x2F;gitlesson&#x2F;gitlearn&#x2F;.git&#x2F; 目录初始化空 Git 仓库完毕。</span><br></pre></td></tr></table></figure>
<p>现在你可以看到在你的项目中生成了 .git 这个子目录。 这个目录是Git来跟踪管理版本库的.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ls -a</span><br><span class="line">.    ..    .git</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意: 没事不要手动修改 .git 目录里面的文件，不然改乱了，可能就把 Git 仓库给破坏了。</p>
</blockquote>
<h3 id="2、添加到暂存区"><a href="#2、添加到暂存区" class="headerlink" title="2、添加到暂存区"></a>2、添加到暂存区</h3><h4 id="1）添加到暂存区-git-add"><a href="#1）添加到暂存区-git-add" class="headerlink" title="1）添加到暂存区 ( git add )"></a>1）添加到暂存区 ( git add )</h4><p>当我们初始化项目后, 在工作区里进行增加, 修改, 删除 文件操作.</p>
<p>然后可以通过 git add 将文件添加到暂存区，作为下次提交的(部分或全部)内容。</p>
<p><strong>语法</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add &lt;文件&#x2F;文件夹&gt;</span><br></pre></td></tr></table></figure>
<p>例如, 我们添加以下两个文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ touch README</span><br><span class="line">$ touch hello.php</span><br><span class="line">$ ls</span><br><span class="line">README        hello.php</span><br><span class="line">$ git status -s</span><br><span class="line">?? README</span><br><span class="line">?? hello.php</span><br><span class="line">$ </span><br></pre></td></tr></table></figure>
<blockquote>
<p>touch 是 linux 的基础命令, 可用来创建文件, 如果您对 Linux 基础命令不熟悉,可以查阅 <a target="_blank" rel="noopener" href="https://www.w3cschool.cn/linux/linux-command-manual.html">Linux命令大全</a></p>
</blockquote>
<blockquote>
<p>git status 命令用于查看项目的当前状态。git status 加 -s 参数表示查看的是简要信息</p>
</blockquote>
<p>接下来我们执行 git add 命令添加到暂存区中:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git add README hello.php </span><br></pre></td></tr></table></figure>
<p>现在我们再执行 git status，就可以看到这两个文件已经加上去了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git status -s</span><br><span class="line">A  README</span><br><span class="line">A  hello.php</span><br></pre></td></tr></table></figure>
<blockquote>
<p>在项目中，添加所有文件很普遍，我们可以使用 <strong>git add .</strong> 命令来添加当前项目的所有文件。</p>
</blockquote>
<p>现在我们在 README 中添加以下内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># w3cschool Git 测试</span><br></pre></td></tr></table></figure>
<p>再执行一下 git status：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git status -s</span><br><span class="line">AM README</span><br><span class="line">A  hello.php</span><br></pre></td></tr></table></figure>
<p>“AM” 状态的意思是，这个文件在我们将它添加到缓存之后又有改动。改动后我们在执行 git add 命令将其添加到缓存中(暂存区)：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git add .</span><br><span class="line">$ git status -s</span><br><span class="line">A  README</span><br><span class="line">A  hello.php</span><br></pre></td></tr></table></figure>
<blockquote>
<p>当你要将你的修改包含在即将提交的快照里的时候，需要执行 <strong>git add 文件</strong></p>
</blockquote>
<h5 id="git-add-扩展"><a href="#git-add-扩展" class="headerlink" title="git add 扩展"></a>git add 扩展</h5><p><strong>git add .</strong> ：他会监控工作区的状态树，使用它会把工作时的所有变化提交到暂存区，包括文件内容修改(modified)以及新文件(new)，但不包括被删除的文件。</p>
<p><strong>git add -u</strong> ：他仅监控已经被add的文件（即tracked file），他会将被修改的文件提交到暂存区。add -u 不会提交新文件（untracked file）。（git add –update的缩写）</p>
<p><strong>git add -A</strong> ：是上面两个功能的合集, 也就是说包括删除的文件也会被提交（git add –all的缩写）</p>
<h3 id="3、查看状态"><a href="#3、查看状态" class="headerlink" title="3、查看状态"></a>3、查看状态</h3><h4 id="1）查看状态-git-status"><a href="#1）查看状态-git-status" class="headerlink" title="1）查看状态 ( git status )"></a>1）查看状态 ( git status )</h4><p><strong>git status</strong> 查看本地工作区、暂存区中文件的修改状态</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line">Initial commit</span><br><span class="line"></span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use &quot;git rm --cached &lt;file&gt;...&quot; to unstage)</span><br><span class="line"></span><br><span class="line">    new file:   README</span><br><span class="line">    new file:   hello.php</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果加上 -s 参数，可以获得简短的结果输出。</p>
</blockquote>
<h3 id="4、查看改动"><a href="#4、查看改动" class="headerlink" title="4、查看改动"></a>4、查看改动</h3><h4 id="1）查看改动-git-diff"><a href="#1）查看改动-git-diff" class="headerlink" title="1）查看改动 ( git diff )"></a>1）查看改动 ( git diff )</h4><p>执行 <strong>git diff</strong> 来查看执行 <strong>git status</strong> 的结果的详细信息。</p>
<p>git diff 命令显示已写入缓存与已修改但尚未写入缓存的改动的区别。</p>
<p>git diff 有两个主要的应用场景。</p>
<ul>
<li>尚未缓存的改动：git diff</li>
<li>查看已缓存的改动： git diff –cached</li>
<li>查看已缓存的与未缓存的所有改动：git diff HEAD</li>
<li>显示摘要而非整个 diff：git diff –stat</li>
</ul>
<p>在 hello.php 文件中输入以下内容：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">echo &#x27;W3Cschool Git微课&#x27;;</span><br><span class="line"><span class="meta">$</span><span class="bash"> git status -s</span></span><br><span class="line">A  README</span><br><span class="line">AM hello.php</span><br><span class="line"><span class="meta">$</span><span class="bash"> git diff</span></span><br><span class="line">diff --git a/hello.php b/hello.php</span><br><span class="line">index e69de29..6d3063e 100644</span><br><span class="line">--- a/hello.php</span><br><span class="line">+++ b/hello.php</span><br><span class="line">@@ -0,0 +1,2 @@</span><br><span class="line">+&lt;?php</span><br><span class="line">+echo &#x27;W3Cschool Git微课&#x27;;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>git status</strong> 显示你上次提交更新后的更改或者写入缓存的改动， 而 git diff 一行一行地显示这些改动具体是什么。</p>
</blockquote>
<p>接下来我们来查看下 git diff –cached 的执行效果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ git add hello.php </span><br><span class="line">$ git status -s</span><br><span class="line">A  README</span><br><span class="line">A  hello.php</span><br><span class="line">$ git diff --cached</span><br><span class="line">diff --git a&#x2F;README b&#x2F;README</span><br><span class="line">new file mode 100644</span><br><span class="line">index 0000000..e69de29</span><br><span class="line">diff --git a&#x2F;hello.php b&#x2F;hello.php</span><br><span class="line">new file mode 100644</span><br><span class="line">index 0000000..6d3063e</span><br><span class="line">--- &#x2F;dev&#x2F;null</span><br><span class="line">+++ b&#x2F;hello.php</span><br><span class="line">@@ -0,0 +1,2 @@</span><br><span class="line">+&lt;?php</span><br><span class="line">+echo &#39;W3Cschool Git微课&#39;; </span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>git diff –cached 用于查看已缓存的改动</li>
</ul>
</blockquote>
<h3 id="5、向仓库提交代码"><a href="#5、向仓库提交代码" class="headerlink" title="5、向仓库提交代码"></a>5、向仓库提交代码</h3><h4 id="1）向仓库提交代码-git-commit"><a href="#1）向仓库提交代码-git-commit" class="headerlink" title="1）向仓库提交代码 ( git commit )"></a>1）向仓库提交代码 ( git commit )</h4><p>使用 <strong>git add</strong> 命令将想要快照的内容写入缓存区， 而执行 <strong>git commit</strong> 将缓存区内容添加到仓库中。</p>
<p>Git 为你的每一个提交都记录你的名字与电子邮箱地址，所以第一步需要配置用户名和邮箱地址。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name &#39;loen&#39;</span><br><span class="line">$ git config --global user.email 425389019@qq.com</span><br></pre></td></tr></table></figure>
<p>接下来我们写入缓存，并提交对 hello.php 的所有改动。在首个例子中，我们使用 -m 选项以在命令行中提供提交注释。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m &#39;初始化项目&#39;</span><br><span class="line">[master (root-commit) ca66690] 初始化项目</span><br><span class="line"> 2 files changed, 2 insertions(+)</span><br><span class="line"> create mode 100644 README</span><br><span class="line"> create mode 100644 hello.php</span><br></pre></td></tr></table></figure>
<p>现在我们已经记录了快照。如果我们再执行 git status:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line"># On branch master</span><br><span class="line">nothing to commit (working directory clean)</span><br></pre></td></tr></table></figure>
<p>以上输出说明我们在最近一次提交之后，没有做任何改动，是一个”working directory clean：干净的工作目录”。</p>
<blockquote>
<p>如果你没有设置 -m 选项，Git 会尝试为你打开一个编辑器以填写提交信息。 如果 Git 在你对它的配置中找不到相关信息，默认(Linux)会打开 vim。</p>
</blockquote>
<p>如果你觉得 <strong>git add</strong> 提交缓存的流程太过繁琐，Git 也允许你用 -a 选项跳过这一步。命令格式如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -a</span><br></pre></td></tr></table></figure>
<p>我们先修改 hello.php 文件为以下内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">echo &#39;W3Cschool Git微课&#39;;</span><br><span class="line"></span><br><span class="line">echo &#39;使用微课学习很简单&#39;;</span><br></pre></td></tr></table></figure>
<p>再执行以下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -am &#39;修改hello 新增微课介绍&#39;</span><br><span class="line"></span><br><span class="line">[master ee802b9] 修改hello 新增微课介绍</span><br><span class="line"></span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br></pre></td></tr></table></figure>


<h3 id="6、取消已缓存的内容"><a href="#6、取消已缓存的内容" class="headerlink" title="6、取消已缓存的内容"></a>6、取消已缓存的内容</h3><h4 id="1）取消已缓存的内容-git-reset-HEAD"><a href="#1）取消已缓存的内容-git-reset-HEAD" class="headerlink" title="1）取消已缓存的内容 ( git reset HEAD )"></a>1）取消已缓存的内容 ( git reset HEAD )</h4><p><code>HEAD</code>指向的版本就是当前版本</p>
<p><strong>git reset HEAD</strong> 命令用于取消已缓存的内容。</p>
<p>我们先改动文件 README 文件，内容如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># W3Cschool Git 微课</span><br></pre></td></tr></table></figure>
<p>hello.php 文件修改为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">echo &#39;W3Cschool Git微课&#39;;</span><br><span class="line">echo &#39;使用微课学习很简单&#39;;</span><br><span class="line">echo &#39;每个知识点既学既练,真正科学的学习方式&#39;;</span><br></pre></td></tr></table></figure>
<p>现在两个文件修改后，都提交到了缓存区，我们现在要取消其中一个的缓存，操作如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ git status -s</span><br><span class="line"> M README</span><br><span class="line"> M hello.php</span><br><span class="line">$ git add .</span><br><span class="line">$ git status -s</span><br><span class="line">M  README</span><br><span class="line">M  hello.pp</span><br><span class="line">$ git reset HEAD -- hello.php </span><br><span class="line">Unstaged changes after reset:</span><br><span class="line">M    hello.php</span><br><span class="line">$ git status -s</span><br><span class="line">M  README</span><br><span class="line"> M hello.php</span><br></pre></td></tr></table></figure>
<p>现在你执行 git commit，只会将 README 文件的改动提交，而 hello.php 是没有的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m &#39;修改README&#39;</span><br><span class="line">[master 88abf2f] 修改README</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line">$ git status -s</span><br><span class="line"> M hello.php</span><br></pre></td></tr></table></figure>
<p>可以看到 hello.php 文件的修改并没有提交。</p>
<p>这时我们可以使用以下命令将 hello.php 的修改提交：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -am &#39;修改 hello 文件&#39;</span><br><span class="line">[master 10e6a9f] 修改 hello 文件</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">nothing to commit, working directory clean</span><br></pre></td></tr></table></figure>
<blockquote>
<p>简而言之，执行 git reset HEAD 以取消之前 git add 添加。</p>
</blockquote>
<h3 id="7、删除文件"><a href="#7、删除文件" class="headerlink" title="7、删除文件"></a>7、删除文件</h3><h4 id="1）删除文件-git-rm"><a href="#1）删除文件-git-rm" class="headerlink" title="1）删除文件 ( git rm )"></a>1）删除文件 ( git rm )</h4><ul>
<li>git rm 从版本库中删除文件</li>
</ul>
<p>语法如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rm &lt;file&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>如果删除之前修改过并且已经放到暂存区域的话，则必须要用强制删除选项 -f</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rm -f &lt;file&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>如果把文件从暂存区域移除，但仍然希望保留在当前工作目录中，换句话说，仅是从跟踪清单中删除，使用 –cached 选项即可</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rm --cached &lt;file&gt;</span><br></pre></td></tr></table></figure>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ echo &quot;# 这是一个Git微课的一个测试文件&quot; &gt; gittest.md</span><br><span class="line">$ git add .</span><br><span class="line">$ git commit -m &quot;添加测试文件&quot;</span><br><span class="line">[master c0ca7bb] 添加测试文件</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 gittest.md</span><br><span class="line">$ git rm gittest.md </span><br><span class="line">rm &#39;gittest.md&#39;</span><br><span class="line">$ ls</span><br><span class="line">hello.php  README</span><br></pre></td></tr></table></figure>
<blockquote>
<p>上面创建一个文件 gittest.md 并为其写上内容 # 这是一个Git微课的一个测试文件, 然后将其添加到仓库中, 最后使用 git rm gittest.md 将其从版本库中和工作区中删除</p>
</blockquote>
<ul>
<li>如果只是简单地从工作区中手工删除文件，运行 git status 时就会在 Changes not staged for commit 的提示。</li>
</ul>
<p>这时你有两个选择，一是确实要从版本库中删除该文件，那就用命令 git rm 删掉，并且 git commit ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git rm &lt;file&gt;</span><br><span class="line">$ git commit -m &quot;单行注释&quot;</span><br></pre></td></tr></table></figure>
<ul>
<li>另一种情况是删错了，因为版本库里还有呢，所以可以很轻松地把误删的文件恢复到最新版本</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -- &lt;file&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>git checkout – <file> 其实是用版本库里的版本替换工作区的版本，无论工作区是修改还是删除，都可以“一键还原”。</p>
</blockquote>
<ul>
<li>当我们需要删除暂存区或分支上的文件, 但本地又需要使用, 只是不希望这个文件被版本控制, 可以使用:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git rm --cached README </span><br><span class="line">rm &#39;README&#39;</span><br><span class="line">$ ls</span><br><span class="line">hello.php  README</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>递归删除</strong></li>
</ul>
<p>我们可以使用 -r 参数进行递归删除, 即如果后面跟的是一个目录做为参数，则会递归删除整个目录中的所有子目录和文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rm –r test </span><br></pre></td></tr></table></figure>
<p>以上命令会删除 test 目录下的所有文件和子目录。</p>
<h3 id="8、移动-重命名"><a href="#8、移动-重命名" class="headerlink" title="8、移动/重命名"></a>8、移动/重命名</h3><p>git mv 命令用于移动或重命名一个文件、目录、软连接。</p>
<p>例如:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git add README </span><br></pre></td></tr></table></figure>
<p>然后对其重名:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git mv README  README.md</span><br><span class="line">$ ls</span><br><span class="line">README.md</span><br></pre></td></tr></table></figure>


<h2 id="三、远程仓库"><a href="#三、远程仓库" class="headerlink" title="三、远程仓库"></a>三、远程仓库</h2><h3 id="1、添加远程仓库"><a href="#1、添加远程仓库" class="headerlink" title="1、添加远程仓库"></a>1、添加远程仓库</h3><h4 id="1）添加远程仓库"><a href="#1）添加远程仓库" class="headerlink" title="1）添加远程仓库"></a>1）添加远程仓库</h4><p>gitHub 是一个面向开源及私有软件项目的托管平台，因为只支持git 作为唯一的版本库格式进行托管，故名 gitHub。</p>
<p>gitHub 于2008年4月10日正式上线，除了git代码仓库托管及基本的 Web管理界面以外，还提供了订阅、讨论组、文本渲染、在线文件编辑器、协作图谱（报表）、代码片段分享（Gist）等功能。托管版本数量也是非常之多，其中不乏知名开源项目 Ruby on Rails、jQuery、python 等。</p>
<p>我们使用 gitHub 创建一个在线仓库, 然后将其与本地仓库关联.</p>
<p><img src="https://7n.w3cschool.cn/attachments/image/20180206/1517912752548369.png" alt="img"></p>
<p>我们在 Repository name 填写 gitlearn 其他保持默认设置，点击“Create repository”按钮，就成功地创建了一个新的Git仓库：</p>
<p><img src="https://7n.w3cschool.cn/attachments/image/20180206/1517912872173257.png" alt="img"></p>
<p>现在,这个仓库还是空的, GitHub 告诉我们，可以从这个仓库克隆出新的仓库，也可以把一个已有的本地仓库与之关联，然后，把本地仓库的内容推送到 GitHub 仓库。</p>
<p>我们将本地已有仓库与之关联:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin https:&#x2F;&#x2F;github.com&#x2F;lucoo01&#x2F;gitlearn.git</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意: 以上的 lucoo01 为 GitHub 账户名, 要替换成自己的</p>
</blockquote>
<p>然后,我们把本地库的所有内容推送到远程库上:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin master</span><br><span class="line">Username for &#39;https:&#x2F;&#x2F;github.com&#39;: 425389019@qq.com</span><br><span class="line">Password for &#39;https:&#x2F;&#x2F;425389019@qq.com@github.com&#39;: </span><br><span class="line">Counting objects: 15, done.</span><br><span class="line">Compressing objects: 100% (9&#x2F;9), done.</span><br><span class="line">Writing objects: 100% (15&#x2F;15), 1.25 KiB | 0 bytes&#x2F;s, done.</span><br><span class="line">Total 15 (delta 1), reused 0 (delta 0)</span><br><span class="line">remote: Resolving deltas: 100% (1&#x2F;1), done.</span><br><span class="line">To https:&#x2F;&#x2F;github.com&#x2F;lucoo01&#x2F;gitlearn.git</span><br><span class="line"> * [new branch]      master -&gt; master</span><br><span class="line">Branch master set up to track remote branch master from origin.</span><br></pre></td></tr></table></figure>
<p>由于远程库是空的，我们第一次推送<code>master</code>分支时，加上了<code>-u</code>参数</p>
<blockquote>
<p>由于我们使用的是 https 协议所以需要输入 GitHub 账户名和密码</p>
</blockquote>
<p>Git 不但会把本地的<code>master</code>分支内容推送的远程新的<code>master</code>分支，还会把本地的<code>master</code>分支和远程的<code>master</code>分支关联起来，在以后的推送或者拉取时就可以简化命令。</p>
<p>推送成功后, 就可以在 GitHub 页面看到内容了:</p>
<p><img src="https://7n.w3cschool.cn/attachments/image/20180206/1517913443443309.png" alt="img">   </p>
<blockquote>
<p>git push -u origin master 如果当前分支与多个主机存在追踪关系,<br>使用 -u 参数指定一个默认主机，这样后面就可以不加任何参数使用 git push</p>
</blockquote>
<p>2、克隆操作</p>
<p>使用 <strong>git clone</strong> 拷贝一个 Git 仓库到本地，让自己能够查看该项目，或者进行修改。</p>
<p>如果你需要与他人合作一个项目，或者想要复制一个项目，看看代码，你就可以克隆那个项目。 执行命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone [url]</span><br></pre></td></tr></table></figure>
<p>[url] 为你想要复制的项目地址。</p>
<p>例如,我们在 GitHub 创建一个新的 w3cschool</p>
<p><img src="https://7n.w3cschool.cn/attachments/image/20180206/1517914230728081.png" alt="img"></p>
<p>这次我们填上了 Description 并勾选了 初始化仓库的 README 文件.</p>
<p>创建完毕后可以看到仓库中有一个 README.md 文件:</p>
<p><img src="https://7n.w3cschool.cn/attachments/image/20180206/1517914345705559.png" alt="img"></p>
<p>现在,将以上项目克隆到本地：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;lucoo01&#x2F;w3cschool.git</span><br><span class="line">Cloning into &#39;w3cschool&#39;...</span><br><span class="line">remote: Counting objects: 3, done.</span><br><span class="line">remote: Compressing objects: 100% (2&#x2F;2), done.</span><br><span class="line">remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0</span><br><span class="line">Unpacking objects: 100% (3&#x2F;3), done.</span><br></pre></td></tr></table></figure>
<p>克隆完成后，在当前目录下会生成一个 w3cschool 目录：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd w3cschool</span><br><span class="line">$ ls README.md</span><br></pre></td></tr></table></figure>
<p>当然你也可以克隆别人的项目与之协同开发</p>
<blockquote>
<p>默认情况下，Git 会按照你提供的 URL 所指示的项目的名称创建你的本地项目目录。 通常就是该 URL 最后一个 / 之后的项目名称。如果你想要一个不一样的名字， 你可以在该命令后加上你想要的名称。</p>
<p>例如: git clone <a target="_blank" rel="noopener" href="https://github.com/lucoo01/woodcalculator.git">https://github.com/lucoo01/woodcalculator.git</a>  simpleapp</p>
</blockquote>
<h3 id="3、更新数据"><a href="#3、更新数据" class="headerlink" title="3、更新数据"></a>3、更新数据</h3><h4 id="1）git-fetch："><a href="#1）git-fetch：" class="headerlink" title="1）git fetch："></a>1）git fetch：</h4><p>从远程获取最新版本到本地，不会自动 merge</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout issue12</span><br><span class="line">$ git fetch origin issue12</span><br><span class="line">$ git log -p issue12..origin&#x2F;issue12</span><br><span class="line">$ git merge origin&#x2F;issue12</span><br></pre></td></tr></table></figure>
<blockquote>
<p>解析:<br>(1).切换到issue12分支<br>(2).从远程的origin的issue12主分支下载最新的版本到origin/issue12分支上<br>(3).比较本地的issue12分支和origin/issue12分支的差别 ( git log 常用 -p 选项展开显示每次提交的内容差异 )</p>
<p>(4).将origin/issue12分支合并到issue12</p>
</blockquote>
<h4 id="2）git-pull："><a href="#2）git-pull：" class="headerlink" title="2）git pull："></a>2）git pull：</h4><p>相当于是从远程获取最新版本并merge到本地</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout issue13</span><br><span class="line">$ git pull origin issue13</span><br></pre></td></tr></table></figure>
<blockquote>
<p>上述 git pull 命令, 相当于 git fetch 和 git merge</p>
</blockquote>
<h2 id="四、Git分支管理"><a href="#四、Git分支管理" class="headerlink" title="四、Git分支管理"></a>四、Git分支管理</h2><h3 id="1、Git分支管理"><a href="#1、Git分支管理" class="headerlink" title="1、Git分支管理"></a>1、Git分支管理</h3><h4 id="1）Git分支原理"><a href="#1）Git分支原理" class="headerlink" title="1）Git分支原理"></a>1）Git分支原理</h4><p>Git 每次提交的版本, Git 都将其串成一条时间线, 这条时间线就是一个分支, 当你执行 <strong>git init</strong> 的时候，缺省情况下 Git 就会为你创建 “master” 分支。<code>HEAD</code>严格来说不是指向提交，而是指向<code>master</code>，<code>master</code>才是指向提交的，所以，<code>HEAD</code>指向的就是当前分支。</p>
<p>如图所示:</p>
<p><img src="https://7n.w3cschool.cn/attachments/image/20180206/1517901301442263.png" alt="img"></p>
<p>每次提交，<code>master</code>分支都会向前移动一步，这样，随着你不断提交，<code>master</code>分支的线也越来越长.</p>
<p>当我们创建新的分支，如<code>dev</code>时，Git 新建了一个指针叫<code>dev</code>，指向与<code>master</code>相同的提交，再把<code>HEAD</code>指向<code>dev</code>，现在表示当前分支在<code>dev</code>上</p>
<p>如图所示:</p>
<p><img src="https://7n.w3cschool.cn/attachments/image/20180206/1517901410552553.png" alt="img"></p>
<p>从现在开始, 对工作区的修改和提交就是针对<code>dev</code>分支了，比如新提交一次后，<code>dev</code>指针往前移动一步，而<code>master</code>指针不变.</p>
<p>如图所示:</p>
<p><img src="https://7n.w3cschool.cn/attachments/image/20180206/1517902280679447.png" alt="img"></p>
<p>我们在<code>dev</code>上完成相应的开发后, 我们将其合并到 master 分支上, 切换回 master 分支.</p>
<p>如图所示:</p>
<p><img src="https://7n.w3cschool.cn/attachments/image/20180206/1517902588544573.png" alt="img"></p>
<p>合并完成后, 也可以删除 dev 分支, 原理是将 dev 指针删除</p>
<p>如图所示:</p>
<p><img src="https://7n.w3cschool.cn/attachments/image/20180206/1517902830707791.png" alt="img"></p>
<h4 id="2）分支基础命令"><a href="#2）分支基础命令" class="headerlink" title="2）分支基础命令"></a>2）分支基础命令</h4><p>几乎每一种版本控制系统都以某种形式支持分支。使用分支意味着你可以从开发主线上分离开来，然后在不影响主线的同时继续工作。</p>
<p>有人把 <strong>Git</strong> 的分支模型称为”必杀技特性”，而正是因为它，将 Git 从版本控制系统家族里区分出来。</p>
<p>创建分支命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch 分支名</span><br></pre></td></tr></table></figure>
<p>切换分支命令:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout 分支名</span><br></pre></td></tr></table></figure>
<p>当你切换分支的时候，Git 会用该分支的最后提交的快照替换你的工作目录的内容， 所以多个分支不需要多个目录。</p>
<p>合并分支命令:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge </span><br></pre></td></tr></table></figure>
<p>你可以多次合并到统一分支， 也可以选择在合并之后直接删除被并入的分支。</p>
<h3 id="2、查看与新建分支"><a href="#2、查看与新建分支" class="headerlink" title="2、查看与新建分支"></a>2、查看与新建分支</h3><h4 id="1）列出分支-git-branch"><a href="#1）列出分支-git-branch" class="headerlink" title="1）列出分支 ( git branch )"></a>1）列出分支 ( git branch )</h4><p>列出分支基本命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch</span><br></pre></td></tr></table></figure>
<p>没有参数时，git branch 会列出你在本地的分支。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git branch</span><br><span class="line">* master</span><br></pre></td></tr></table></figure>
<p>此例的意思就是，我们有一个叫做 “master” 的分支，并且该分支是当前分支。</p>
<blockquote>
<p>当你执行 git init 的时候，缺省情况下 Git 就会为你创建 “master” 分支。</p>
</blockquote>
<h4 id="2）创建新分支-git-branch-分支名"><a href="#2）创建新分支-git-branch-分支名" class="headerlink" title="2）创建新分支 ( git branch 分支名)"></a>2）创建新分支 ( git branch 分支名)</h4><p>如果我们要手动创建一个分支。执行 git branch 分支名 即可。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git branch dev</span><br><span class="line">$ git branch</span><br><span class="line">* master</span><br><span class="line">  dev</span><br></pre></td></tr></table></figure>
<p>现在我们可以看到，有了一个新分支 dev。</p>
<p>当你以此方式在上次提交更新之后创建了新分支，如果后来又有更新提交， 然后又切换到了 “dev” 分支，Git 将还原你的工作目录到你创建分支时候的样子</p>
<p>接下来我们将演示如何切换分支，我们用 git checkout 分支名 切换到我们要修改的分支。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout dev</span><br><span class="line">Switched to branch &#39;dev&#39;</span><br><span class="line">$ echo &#39;# 随时随地学编程,妈妈再也不用担心我找不到工作啦&#39; &gt; test.md</span><br><span class="line">$ git add .</span><br><span class="line">$ git commit -m &quot;新增test.md文件&quot;</span><br><span class="line">[dev 37f4d35] 新增test.md文件</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 test.md$ ls</span><br><span class="line">hello.php  README  test.md</span><br><span class="line">$ git checkout master</span><br><span class="line">Switched to branch &#39;master&#39;</span><br><span class="line">$ ls</span><br><span class="line">hello.php  README</span><br></pre></td></tr></table></figure>
<blockquote>
<p>以上使用 echo 输出字符串 ‘# 随时随地学编程,妈妈再也不用担心我找不到工作啦’ 并使用 &gt; 重定向到 test.md文件中</p>
</blockquote>
<p>当我们切换到”master”分支的时候，我们添加的新文件test.md不见了。切换回”dev”分支的时候，新文件test.md再次出现。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout dev</span><br><span class="line">Switched to branch &#39;dev&#39;</span><br><span class="line">$ ls</span><br><span class="line">hello.php  README  test.md</span><br></pre></td></tr></table></figure>


<p>我们也可以使用 git checkout -b 分支名 命令来创建新分支并立即切换到该分支下，从而在该分支中操作。</p>
<p>我们先切回 master 分支</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">D	hello.php</span><br><span class="line">Switched to branch &#39;master&#39;</span><br><span class="line">$ git checkout -b newtest</span><br><span class="line">Switched to a new branch &#39;newtest&#39;</span><br><span class="line">$ git branch</span><br><span class="line">  master</span><br><span class="line">* newtest</span><br><span class="line">  dev</span><br><span class="line">$ git rm hello.php </span><br><span class="line">rm &#39;hello.php&#39;</span><br><span class="line">$ ls</span><br><span class="line">README</span><br><span class="line">$ git commit -am &quot;removed hello.php&quot;</span><br><span class="line">[newtest 5507bd3] removed hello.php</span><br><span class="line"> 1 file changed, 4 deletions(-)</span><br><span class="line"> delete mode 100644 hello.php</span><br><span class="line">$ git checkout master</span><br><span class="line">Switched to branch &#39;master&#39;</span><br><span class="line">$ ls</span><br><span class="line">hello.php  README</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如你所见，我们创建了一个分支，在该分支的上下文中移除了一些文件，然后切换回我们的主分支，那些文件又回来了。使用分支将工作切分开来，从而让我们能够在不同上下文中做事，并来回切换。</p>
</blockquote>
<h3 id="3、分支合并"><a href="#3、分支合并" class="headerlink" title="3、分支合并"></a>3、分支合并</h3><p>一旦某分支有了独立内容，你终究会希望将它合并回到你的主分支。 你可以使用以下命令将任何分支合并到当前分支中去：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge 分支名</span><br></pre></td></tr></table></figure>
<p>我们创建并切换到 dev3 分支中, 在 dev3 中新增文件 loen.md</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b dev3</span><br><span class="line">Switched to a new branch &#39;dev3&#39;</span><br><span class="line">$ touch loen.md</span><br><span class="line">$ git add .</span><br><span class="line">$ git commit -m &quot;新增loen.md&quot;</span><br><span class="line">[dev3 7f03049] 新增loen.md</span><br><span class="line"> 1 file changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line"> create mode 100644 loen.md</span><br></pre></td></tr></table></figure>
<p>切回 master 分支并执行合并操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">Switched to branch &#39;master&#39;</span><br><span class="line">$ ls</span><br><span class="line">hello.php  README</span><br><span class="line">$ git merge dev3</span><br><span class="line">Updating 9400478..7f03049</span><br><span class="line">Fast-forward</span><br><span class="line"> loen.md | 0</span><br><span class="line"> 1 file changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line"> create mode 100644 loen.md</span><br><span class="line">$ ls</span><br><span class="line">hello.php  loen.md  README</span><br></pre></td></tr></table></figure>
<blockquote>
<p>我们发现合并后 master 中新增了 loen.md 文件</p>
</blockquote>
<h3 id="4、删除分支"><a href="#4、删除分支" class="headerlink" title="4、删除分支"></a>4、删除分支</h3><p>删除分支命令(name 为分支名)：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d name</span><br></pre></td></tr></table></figure>
<p>例如我们要删除”dev”分支：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git branch</span><br><span class="line">* master</span><br><span class="line">  newtest</span><br><span class="line">  dev</span><br><span class="line">$ git branch -d dev</span><br><span class="line">Deleted branch dev(was 1037bce).</span><br><span class="line">$ git branch</span><br><span class="line">* master</span><br><span class="line">  newtest</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Git 鼓励大量使用分支：<br>查看分支：git branch<br>创建分支：git branch <name><br>切换分支：git checkout <name><br>创建+切换分支：git checkout -b <name><br>合并某分支到当前分支：git merge <name><br>删除分支：git branch -d <name></p>
</blockquote>
<h3 id="5、解决冲突"><a href="#5、解决冲突" class="headerlink" title="5、解决冲突"></a>5、解决冲突</h3><p>我们先创造一个冲突出来, 比如, 在两个分支中修改了同一个文件的同一行代码,在合并的时候就会发生冲突.</p>
<p>假设我们版本库中有一个 test.php 文件,内容为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">	echo &quot;Loen is a Girl&lt;br&gt;&quot;;</span><br><span class="line">	echo &quot;Loen is Beautiful&lt;br&gt;&quot;;</span><br><span class="line">	echo &quot;actually, Loen is a Boy&lt;br&gt;&quot;;</span><br><span class="line">        echo &quot;hei,hei,hei&quot;;</span><br></pre></td></tr></table></figure>
<p>我们新建一个 dev1 的分支</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b dev1</span><br><span class="line">Switched to a new branch &#39;dev1&#39;</span><br></pre></td></tr></table></figure>
<p>修改 test.php 最后一行为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;ji,ji,ji&quot;;</span><br></pre></td></tr></table></figure>
<p>在 dev1 中提交修改:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git add .</span><br><span class="line">$ git commit -m &quot;change hei to ji&quot;</span><br><span class="line">[dev1 72bf7f9] change hei to ji</span><br><span class="line"> 1 file changed, 1 insertion(+), 1 deletion(-)</span><br></pre></td></tr></table></figure>
<p>现在我们切回 master 分支:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">Switched to branch &#39;master&#39;</span><br></pre></td></tr></table></figure>
<p>在 master 分支中将 test.php 最后一行改为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;ha,ha,ha&quot;</span><br></pre></td></tr></table></figure>
<p>然后提交修改:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git add .</span><br><span class="line">$ git commit -m &quot;change hei to ha&quot;</span><br><span class="line">[master 9b1e006] change hei to ha</span><br><span class="line"> 1 file changed, 1 insertion(+), 1 deletion(-)</span><br></pre></td></tr></table></figure>
<p>现在 master 分支与 dev1 分支各自都有新的提交:</p>
<p><img src="https://7n.w3cschool.cn/attachments/image/20180206/1517919977485573.png" alt="img"></p>
<p>我们试着合并 dev1 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git merge dev1</span><br><span class="line">Auto-merging test.php</span><br><span class="line">CONFLICT (content): Merge conflict in test.php</span><br><span class="line">Automatic merge failed; fix conflicts and then commit the result.</span><br></pre></td></tr></table></figure>
<p>提示我们 test.php 有合并冲突,必须手动解决冲突</p>
<p>使用 git status 也可以告诉我们存在冲突文件和文件名:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line"># On branch master</span><br><span class="line"># Your branch is ahead of &#39;origin&#x2F;master&#39; by 1 commit.</span><br><span class="line">#   (use &quot;git push&quot; to publish your local commits)</span><br><span class="line">#</span><br><span class="line"># You have unmerged paths.</span><br><span class="line">#   (fix conflicts and run &quot;git commit&quot;)</span><br><span class="line">#</span><br><span class="line"># Unmerged paths:</span><br><span class="line">#   (use &quot;git add &lt;file&gt;...&quot; to mark resolution)</span><br><span class="line">#</span><br><span class="line">#	both modified:      test.php</span><br><span class="line">#</span><br><span class="line">no changes added to commit (use &quot;git add&quot; and&#x2F;or &quot;git commit -a&quot;)</span><br></pre></td></tr></table></figure>


<p>我们现在直接看 test.php 的文件内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">	echo &quot;Loen is a Girl&lt;br&gt;&quot;;</span><br><span class="line">	echo &quot;Loen is Beautiful&lt;br&gt;&quot;;</span><br><span class="line">	echo &quot;actually, Loen is a Boy&lt;br&gt;&quot;;</span><br><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span><br><span class="line">	echo &quot;ha, ha, ha&quot;;</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">	echo &quot;ji,ji,ji&quot;;</span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt; dev1</span><br></pre></td></tr></table></figure>
<p>Git 用 &lt;&lt;&lt;&lt;&lt;&lt;&lt;，=======，&gt;&gt;&gt;&gt;&gt;&gt;&gt; 标记出不同分支的内容，我们最后一行修改如下后保存：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;ha, ha, ha and ji, ji, ji&quot;;</span><br></pre></td></tr></table></figure>
<p>然后提交:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git add .</span><br><span class="line">$ git commit -m &quot;conflict fixed&quot;</span><br><span class="line">[master 8ae5258] conflict fixed</span><br></pre></td></tr></table></figure>
<p>现在 master 分支与 dev1 分支变成如图:</p>
<p><img src="https://7n.w3cschool.cn/attachments/image/20180206/1517920577627795.png" alt="img"></p>
<p>我们使用带参数的 git log 也可以看到合并的情况:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ git log --graph --pretty&#x3D;oneline --abbrev-commit</span><br><span class="line">*   8ae5258 conflict fixed</span><br><span class="line">|\  </span><br><span class="line">| * 72bf7f9 change hei to ji</span><br><span class="line">* | 9b1e006 change hei to ha</span><br><span class="line">|&#x2F;  </span><br><span class="line">* a9c230a Loen is a boy</span><br><span class="line">* ab1ca2b Loen&#39;s feature</span><br><span class="line">* e871a66 Loen&#39;s sex</span><br><span class="line">* 38255de rm test.txt</span><br><span class="line">* f3476aa init test.txt</span><br><span class="line">* 15492c1 create test.php</span><br></pre></td></tr></table></figure>


<h3 id="6、分支管理策略"><a href="#6、分支管理策略" class="headerlink" title="6、分支管理策略"></a>6、分支管理策略</h3><h4 id="1）分支管理策略"><a href="#1）分支管理策略" class="headerlink" title="1）分支管理策略"></a>1）分支管理策略</h4><p>通常 Git 在合并分支的时候会用 Fast forward 模式, 这样删除分支后, 也会丢掉分支信息.</p>
<p>我们在合并分支时可以使用 –no-ff 参数,强制禁用 Fastforward 模式, 这样 Git 在合并时会生成一个新的 commit(提交), 然后我们就可以在历史分支上看出分支信息.</p>
<p>我们来操作下看看效果, 我们创建一个 dev2 的分支</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b dev2</span><br><span class="line">Switched to a new branch &#39;dev2&#39;</span><br></pre></td></tr></table></figure>
<p>修改 test.php 文件, 然后提交修改:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git add .</span><br><span class="line">$ git commit -m &quot;add Line Loen can fly&quot;</span><br><span class="line">[dev2 523fc69] add Line Loen can fly</span><br><span class="line"> 1 file changed, 2 insertions(+), 1 deletion(-)</span><br></pre></td></tr></table></figure>
<p>切回 master 分支, 然后使用 git merge –no-ff 合并分支:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">Switched to branch &#39;master&#39;</span><br><span class="line">Your branch is ahead of &#39;origin&#x2F;master&#39; by 3 commits.</span><br><span class="line">  (use &quot;git push&quot; to publish your local commits)</span><br><span class="line">$ git merge --no-ff -m &quot;merge with no-ff&quot; dev2</span><br><span class="line">Merge made by the &#39;recursive&#39; strategy.</span><br><span class="line"> test.php | 3 ++-</span><br><span class="line"> 1 file changed, 2 insertions(+), 1 deletion(-)</span><br></pre></td></tr></table></figure>
<p>因为我们禁用 Fast forward 模式, 所以本次合并会创建一个新的 commit(提交), 我们用 -m 给这次 commit 加上描述</p>
<p>然后我们用 git log 查看下分支历史</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git log --graph --pretty&#x3D;oneline --abbrev-commit</span><br><span class="line">*   73dcd5d merge with no-ff</span><br><span class="line">|\  </span><br><span class="line">| * 523fc69 add Line Loen can fly</span><br><span class="line">|&#x2F;  </span><br><span class="line">*   8ae5258 conflict fixed</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>禁用 Fast forward 合并示意图(有生成一个新commit):</p>
<p><img src="https://www.w3cschool.cn/attachments/day_180207/201802071914079611.png" alt="img"></p>
<h4 id="2）分支策略"><a href="#2）分支策略" class="headerlink" title="2）分支策略"></a>2）分支策略</h4><p>在实际开发中，我们应该按照几个基本原则进行分支管理：</p>
<p>首先，master 分支应该是非常稳定的，也就是仅用来发布新版本，平时不要直接在上面开发；</p>
<p>你可以和你团队成员在 dev 上开发, 每个人都有自己的分支, 然后时不时往 dev 分支上合并, 也就是说 dev 分支时不稳定的, 等到要发布版本的时候, 再将 dev 往 master 上合并就可以了, 图示如下:</p>
<p><img src="https://7n.w3cschool.cn/attachments/image/20180207/1517973819584085.png" alt="img"></p>
<blockquote>
<p>当然每个团队要根据自己实际情况进行分支管理,详细的分支策略可以查看:</p>
<p>Git 分支策略</p>
</blockquote>
<h3 id="7、多人协作"><a href="#7、多人协作" class="headerlink" title="7、多人协作"></a>7、多人协作</h3><h4 id="1）查看远程库信息"><a href="#1）查看远程库信息" class="headerlink" title="1）查看远程库信息"></a>1）查看远程库信息</h4><p>当我们从远程仓库克隆时，实际上 Git 自动把本地的<code>master</code>分支和远程的<code>master</code>分支对应起来了(远程仓库默认名字是 origin)</p>
<p>可以用 git remote 查看远程库的信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git remote</span><br><span class="line">origin</span><br></pre></td></tr></table></figure>
<p>加参数 -v 可以显示更详细的信息:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br><span class="line">origin	https:&#x2F;&#x2F;github.com&#x2F;lucoo01&#x2F;gitlearn.git (fetch)</span><br><span class="line">origin	https:&#x2F;&#x2F;github.com&#x2F;lucoo01&#x2F;gitlearn.git (push)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>上面显示了可以抓取和推送的<code>origin</code>的地址。如果没有推送权限，就看不到push的地址。</p>
</blockquote>
<h4 id="2）推送分支"><a href="#2）推送分支" class="headerlink" title="2）推送分支"></a>2）推送分支</h4><p>我们想将本地分支推送到远程库,可以使用 git push 命令,在推送时,要指定本地分支, 这样，Git 就会把该分支推送到远程库对应的远程分支上：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin master</span><br></pre></td></tr></table></figure>
<p>如果要推送其他分支, 比如 dev2 :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin dev2</span><br></pre></td></tr></table></figure>


<h4 id="3）多人协作"><a href="#3）多人协作" class="headerlink" title="3）多人协作"></a>3）多人协作</h4><p>在实际项目开发中,往往是多人协作开发的, 大家通常会往远程的 master 或者 dev 分支上推送各自的修改.</p>
<p>假设你在 dev 分支上对 入口文件(比如:index.php) 进行修改, 而你的队友恰巧也改了这个文件,并且在你前面推送到远程 dev 分支上.</p>
<p> 这时你直接向 dev 推送修改,就会失败, Git 会提示我们先用<code>git pull</code>把最新的提交从<code>origin/dev</code>抓下来，然后，在本地合并，解决冲突(如果有冲突的话)，再推送：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git pull</span><br></pre></td></tr></table></figure>
<p>如果你没有指定关联 dev 分支与远程 origin/dev 分支的链接, git pull 会失败,这时要先设置下<code>dev</code>和<code>origin/dev</code>的链接：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git branch --set-upstream dev origin&#x2F;dev</span><br><span class="line">Branch dev set up to track remote branch dev from origin.</span><br></pre></td></tr></table></figure>
<p>然后再 git pull 就可以了</p>
<p>如果 pull 下来,提示有冲突可以参照之前的课程解决冲突,提交,再 push 就可以了</p>
<blockquote>
<p>多人协作的工作模式通常是这样：</p>
<ol>
<li>首先，用 git pull 看有没有人在远程提交代码有的话将其合并到本地;</li>
<li>如果合并有冲突，则解决冲突，并在本地提交；</li>
<li>没有冲突或者解决掉冲突后，再用 git push origin 分支名 推送就能成功！</li>
</ol>
</blockquote>
<h2 id="五、回退与撤销"><a href="#五、回退与撤销" class="headerlink" title="五、回退与撤销"></a>五、回退与撤销</h2><h3 id="1、撤销修改"><a href="#1、撤销修改" class="headerlink" title="1、撤销修改"></a>1、撤销修改</h3><p>命令<code>git checkout -- 文件</code>  意思就是，把 该文件 在工作区的修改全部撤销</p>
<p>语法:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git checkout -- &lt;file&gt;</span></span><br></pre></td></tr></table></figure>
<p>如果 文件 修改后还没有被放到暂存区，现在，撤销修改就是用版本库的版本覆盖当前的文件。</p>
<p>如果 文件 已经添加到暂存区后，又作了修改，现在，撤销修改就是将暂存区中的文件版本覆盖当前的文件。</p>
<blockquote>
<p>  总之，就是让这个文件回到最近一次<code>git commit</code>或<code>git add</code>时的状态。</p>
</blockquote>
<p>例如:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git diff</span></span><br><span class="line">diff --git a/test.php b/test.php</span><br><span class="line">index 8bb314e..f06a696 100644</span><br><span class="line">--- a/test.php</span><br><span class="line">+++ b/test.php</span><br><span class="line">@@ -1,2 +1,3 @@</span><br><span class="line"> &lt;?php</span><br><span class="line">        echo &quot;Loen is a Girl&quot;;</span><br><span class="line">+       echo &quot;Loen is stupid&quot;;</span><br></pre></td></tr></table></figure>
<p>我们发现刚才新加的 “Loen is stupid” 这一行不太适合,我们来撤销修改</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git checkout -- test.php</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> cat test.php</span></span><br><span class="line">&lt;?php</span><br><span class="line">	echo &quot;Loen is a Girl&quot;;</span><br></pre></td></tr></table></figure>
<p>文件内容果然复原了。</p>
<blockquote>
<p>  git checkout – file 命令中的 – 很重要，没有 –，就变成了 “切换到另一个分支” 的命令</p>
</blockquote>
<h3 id="2、历史记录"><a href="#2、历史记录" class="headerlink" title="2、历史记录"></a>2、历史记录</h3><p>在实际工作中，我们脑子里怎么可能记得一个几千行的文件每次都改了什么内容，不然要版本控制系统干什么。</p>
<p>Git 可以使用 <strong>git log</strong> 命令告诉我们历史记录：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git logcommit a9c230a8be244e0c07663332e2d3cacdb0909a43</span></span><br><span class="line">Author: Loen &lt;425389019@qq.com&gt;</span><br><span class="line">Date:   Sat Feb 3 16:16:59 2018 +0800</span><br><span class="line">    Loen is a boy</span><br><span class="line">commit ab1ca2bc150e666cd600accd33c7a94daaa6a546</span><br><span class="line">Author: Loen &lt;425389019@qq.com&gt;</span><br><span class="line">Date:   Sat Feb 3 16:14:40 2018 +0800</span><br><span class="line">    Loen&#x27;s feature</span><br><span class="line">commit e871a660e7bf67053c1b24a3ac4f6d03d67e69e0</span><br><span class="line">Author: Loen &lt;425389019@qq.com&gt;</span><br><span class="line">Date:   Sat Feb 3 15:55:57 2018 +0800</span><br><span class="line">    Loen&#x27;s sex</span><br><span class="line">commit 38255deef9d53049f4c53cdd56d7eeb3d58edf0d</span><br><span class="line">Author: Loen &lt;425389019@qq.com&gt;</span><br><span class="line">Date:   Sat Feb 3 15:55:08 2018 +0800</span><br><span class="line">    rm test.txt</span><br><span class="line">commit f3476aac14c4b07b92ea7c791d3d297ded5f89d5</span><br><span class="line">Author: Loen &lt;425389019@qq.com&gt;</span><br><span class="line">Date:   Sat Feb 3 15:24:19 2018 +0800</span><br><span class="line">    init test.txt</span><br><span class="line">commit 15492c1f53d895ae5897540747b1abedfb5db8ec</span><br><span class="line">Author: root &lt;root@host.localdomain&gt;</span><br><span class="line">Date:   Sat Feb 3 15:22:42 2018 +0800</span><br><span class="line">    create test.php</span><br></pre></td></tr></table></figure>
<p><code>git log</code>命令显示从最近到最远的提交日志</p>
<p>如果嫌 git log 输出信息太多，看得眼花缭乱，可以加上<code>--pretty=oneline</code>参数: </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git log --pretty&#x3D;oneline</span><br><span class="line">a9c230a8beacdb0909a43 Loen is a boy</span><br><span class="line">ab1ca2bd7a94daaa6a546 Loen&#39;s feature</span><br><span class="line">e871a660e6d03d67e69e0 Loen&#39;s sex</span><br><span class="line">38255dee7eeb3d58edf0d rm test.txt</span><br><span class="line">f3476aacd297ded5f89d5 init test.txt</span><br><span class="line">15492c1f1abedfb5db8ec create test.php</span><br></pre></td></tr></table></figure>
<p>提示: 你看到的一大串类似<code>a9c230a...909a43</code>的是<code>commit id</code>（版本号），和 SVN不一样，Git 的<code>commit id</code>不是1，2，3……递增的数字，而是一个SHA1计算出来的一个非常大的数字，用十六进制表示，而且你看到的<code>commit id</code>和我的肯定不一样，以自己的为准。</p>
<p>为什么<code>commit id</code>需要用这么一大串数字表示呢？</p>
<p>因为 Git 是分布式的版本控制系统，当多人在同一个版本库里工作，如果大家都用1，2，3……作为版本号，那肯定会发生冲突。</p>
<blockquote>
<p>  注意: 为了手机端显示的更加整洁,以上commit id 有截短, 实际的commt id 会更长</p>
</blockquote>
<h3 id="3、版本回退"><a href="#3、版本回退" class="headerlink" title="3、版本回退"></a>3、版本回退</h3><p>要把当前版本回退到上一个版本，可以使用<code>git reset</code>命令.</p>
<p>我们先看下当前历史记录:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git log --pretty&#x3D;oneline</span><br><span class="line">a9c230a82e2d3cacdb0909a43 Loen is a boy</span><br><span class="line">ab1ca2bcd33c7a94daaa6a546 Loen&#39;s feature</span><br><span class="line">e871a6603ac4f6d03d67e69e0 Loen&#39;s sex</span><br><span class="line">38255dedd56d7eeb3d58edf0d rm test.txt</span><br><span class="line">f3476aa791d3d297ded5f89d5 init test.txt</span><br><span class="line">15492c10747b1abedfb5db8ec create test.php</span><br></pre></td></tr></table></figure>
<p> 使用 git reset 回退到上一个版本:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^</span><br><span class="line">HEAD is now at ab1ca2b Loen&#39;s feature</span><br></pre></td></tr></table></figure>
<p>现在我们看到已经切换到上一个版本了:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git log --pretty&#x3D;oneline</span><br><span class="line">ab1ca2bcd33c7a94daaa6a546 Loen&#39;s feature</span><br><span class="line">e871a6603ac4f6d03d67e69e0 Loen&#39;s sex</span><br><span class="line">38255dedd56d7eeb3d58edf0d rm test.txt</span><br><span class="line">f3476aa791d3d297ded5f89d5 init test.txt</span><br><span class="line">15492c10747b1abedfb5db8ec create test.php</span><br></pre></td></tr></table></figure>
<blockquote>
<p>  在 Git 中，用 HEAD 表示当前版本，上一个版本就是 HEAD^，上上一个版本就是 HEAD^^，当然往上100个版本写100个^比较容易数不过来，所以写成HEAD~100</p>
</blockquote>
<p>Git 的版本回退速度非常快，因为Git在内部有个指向当前版本的<code>HEAD</code>指针，当你回退版本的时候，Git仅仅是把HEAD从指向 Loen is a boy：</p>
<p><img src="https://7n.w3cschool.cn/attachments/image/20180203/1517648066703438.png" alt="img"></p>
<p>改为指向 Loen’s feature</p>
<p><img src="https://7n.w3cschool.cn/attachments/image/20180203/1517648268860499.png" alt="img"></p>
<p>然后把工作区的文件更新了。所以你让<code>HEAD</code>指向哪个版本号，就把当前版本定位在哪。</p>
<p>如果回退失误,想要改回原来的 Loen is a boy 版本, 就必须找到 Loen is a boy 的 coommit id .</p>
<p>Git 提供了一个命令<code>git reflog</code>用来记录你的每一次命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git reflog</span><br><span class="line">ab1ca2b HEAD@&#123;0&#125;: reset: moving to HEAD^</span><br><span class="line">a9c230a HEAD@&#123;1&#125;: commit: Loen is a boy</span><br><span class="line">ab1ca2b HEAD@&#123;2&#125;: commit: Loen&#39;s feature</span><br><span class="line">e871a66 HEAD@&#123;3&#125;: commit: Loen&#39;s sex</span><br><span class="line">38255de HEAD@&#123;4&#125;: commit: rm test.txt</span><br><span class="line">f3476aa HEAD@&#123;5&#125;: commit: init test.txt</span><br><span class="line">15492c1 HEAD@&#123;6&#125;: commit (initial): create test.php</span><br></pre></td></tr></table></figure>
<p>我们可以看到 Loen is a boy 的 commit id 为 a9c230a</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git reset --hard a9c230a</span><br><span class="line">HEAD is now at a9c230a Loen is a boy</span><br><span class="line">$ git log --pretty&#x3D;oneline</span><br><span class="line">a9c230a8be2d3cacdb0909a43 Loen is a boy</span><br><span class="line">ab1ca2bc153c7a94daaa6a546 Loen&#39;s feature</span><br><span class="line">e871a660e7c4f6d03d67e69e0 Loen&#39;s sex</span><br><span class="line">38255deef96d7eeb3d58edf0d rm test.txt</span><br><span class="line">f3476aac14d3d297ded5f89d5 init test.txt</span><br><span class="line">15492c1f537b1abedfb5db8ec create test.php</span><br></pre></td></tr></table></figure>
<blockquote>
<p>  git reset –hard 后也可以指定 commit id 切到指定版本</p>
</blockquote>
<blockquote>
<p>  git reflog: 显示整个本地仓储的 commit, 包括所有 branch 的 commit, 甚至包括已经撤销的 commit, 只要 HEAD 发生了变化, 就会在 reflog 里面看得到. </p>
</blockquote>
<h2 id="六、标签管理"><a href="#六、标签管理" class="headerlink" title="六、标签管理"></a>六、标签管理</h2><h3 id="1、创建标签"><a href="#1、创建标签" class="headerlink" title="1、创建标签"></a>1、创建标签</h3><h4 id="1）创建标签"><a href="#1）创建标签" class="headerlink" title="1）创建标签"></a>1）创建标签</h4><p>创建标签,只需切换到要打标签的分支上:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git branch</span><br><span class="line">* dev</span><br><span class="line">  master</span><br><span class="line">  newtest</span><br><span class="line">$ git checkout master</span><br><span class="line">Switched to branch &#39;master&#39;</span><br></pre></td></tr></table></figure>
<p>使用 git tag 标签名 就可以创建一个新标签:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git tag v1.0</span><br></pre></td></tr></table></figure>
<p>我们可以使用 git tag 查看所有的标签:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git tag</span><br><span class="line">v1.0</span><br></pre></td></tr></table></figure>
<blockquote>
<p>  标签是默认打在最新提交的 commit id 上的.</p>
</blockquote>
<p>我们也可以直接再某个 commit id 上打标签</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git log --pretty&#x3D;oneline --abbrev-commit</span><br><span class="line">a9c230a Loen is a boy</span><br><span class="line">ab1ca2b Loen&#39;s feature</span><br><span class="line">e871a66 Loen&#39;s sex</span><br><span class="line">38255de rm test.txt</span><br><span class="line">f3476aa init test.txt</span><br><span class="line">15492c1 create test.php</span><br></pre></td></tr></table></figure>
<p>我们通过 git log 先找到 历史版本的 commit id</p>
<p>现在我们给 Loen’s sex 版本打上 v0.8 的标签</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag v0.8 e871a66</span><br></pre></td></tr></table></figure>
<p>查看当前标签列表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git tag</span><br><span class="line">v0.8</span><br><span class="line">v1.0</span><br></pre></td></tr></table></figure>


<h4 id="2）创建带有说明的标签"><a href="#2）创建带有说明的标签" class="headerlink" title="2）创建带有说明的标签"></a>2）创建带有说明的标签</h4><p>我们也可以创建带有说明的标签:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag -a v0.9 -m &quot;This is v0.9 ; Loen&#39;s Feature&quot; ab1ca2b</span><br></pre></td></tr></table></figure>
<p>以上-a指定标签名，-m指定说明文字</p>
<h4 id="3）查看标签信息-git-show-标签名"><a href="#3）查看标签信息-git-show-标签名" class="headerlink" title="3）查看标签信息 ( git show 标签名 )"></a>3）查看标签信息 ( git show 标签名 )</h4><p>我们可以使用 git show<tagname> 查看标签信息:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">git show v0.9</span><br><span class="line">tag v0.9</span><br><span class="line">Tagger: Loen &lt;425389019@qq.com&gt;</span><br><span class="line">Date:   Tue Feb 6 18:01:36 2018 +0800</span><br><span class="line">This is v0.9 ; Loen&#39;s Feature</span><br><span class="line">commit ab1ca2bc150e666cd600accd33c7a94daaa6a546</span><br><span class="line">Author: Loen &lt;425389019@qq.com&gt;</span><br><span class="line">Date:   Sat Feb 3 16:14:40 2018 +0800</span><br><span class="line">    Loen&#39;s feature</span><br><span class="line">diff --git a&#x2F;test.php b&#x2F;test.php</span><br><span class="line">index 8bb314e..7a01fcc 100644</span><br><span class="line">--- a&#x2F;test.php</span><br><span class="line">+++ b&#x2F;test.php</span><br><span class="line">@@ -1,2 +1,3 @@</span><br><span class="line"> &lt;?php</span><br><span class="line">-       echo &quot;Loen is a Girl&quot;;</span><br><span class="line">+       echo &quot;Loen is a Girl&lt;br&gt;&quot;;</span><br><span class="line">+       echo &quot;Loen is Beautiful&lt;br&gt;&quot;;</span><br></pre></td></tr></table></figure>
<p>我们可以看到 v0.9 确实指向 Loen’s feature 这个版本上,而且还看到了刚添加的标签说明</p>
<h3 id="2、操作标签"><a href="#2、操作标签" class="headerlink" title="2、操作标签"></a>2、操作标签</h3><p>可以使用 git tag -d 标签名 删除打错的标签:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag -d v0.8</span><br><span class="line">Deleted tag &#39;v0.8&#39; (was e871a66)</span><br></pre></td></tr></table></figure>
<p>到目前为止,我们打的标签都只是存储在本地</p>
<p>如果要推送某个标签到远程，使用命令 git push origin 标签名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin v1.0</span><br><span class="line">Total 0 (delta 0), reused 0 (delta 0)</span><br><span class="line">To https:&#x2F;&#x2F;github.com&#x2F;lucoo01&#x2F;gitlearn.git</span><br><span class="line"> * [new tag]         v1.0 -&gt; v1.0</span><br></pre></td></tr></table></figure>
<p>也可以，一次性推送全部尚未推送到远程的本地标签：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin --tags</span><br><span class="line">Counting objects: 1, done.</span><br><span class="line">Writing objects: 100% (1&#x2F;1), 169 bytes | 0 bytes&#x2F;s, done.</span><br><span class="line">Total 1 (delta 0), reused 0 (delta 0)</span><br><span class="line">To https:&#x2F;&#x2F;github.com&#x2F;lucoo01&#x2F;gitlearn.git</span><br><span class="line"> * [new tag]         v0.9 -&gt; v0.9</span><br></pre></td></tr></table></figure>
<p>如果标签已经推送到远程，要删除远程标签就麻烦一点，先从本地删除：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git tag -d v0.9</span><br><span class="line">Deleted tag &#39;v0.9&#39; (was a4ec879)</span><br></pre></td></tr></table></figure>
<p>然后，从远程删除。删除命令也是push，但是格式如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin :refs&#x2F;tags&#x2F;v0.9</span><br><span class="line">To https:&#x2F;&#x2F;github.com&#x2F;lucoo01&#x2F;gitlearn.git</span><br><span class="line"> - [deleted]         v0.9</span><br></pre></td></tr></table></figure>


<h2 id="七、自定义Git"><a href="#七、自定义Git" class="headerlink" title="七、自定义Git"></a>七、自定义Git</h2><h3 id="1、Git配置"><a href="#1、Git配置" class="headerlink" title="1、Git配置"></a>1、Git配置</h3><h4 id="1）Git-配置"><a href="#1）Git-配置" class="headerlink" title="1）Git 配置"></a>1）Git 配置</h4><p>Git 提供了一个叫做 git config 的工具，专门用来配置或读取相应的工作环境变量。</p>
<p>这些环境变量，决定了 Git 在各个环节的具体工作方式和行为。这些变量可以存放在以下三个不同的地方：</p>
<ul>
<li>  /etc/gitconfig 文件：系统中对所有用户都普遍适用的配置。若使用 git config 时用 –system 选项，读写的就是这个文件。</li>
<li>  ~/.gitconfig 文件：用户目录下的配置文件只适用于该用户。若使用 git config 时用 –global 选项，读写的就是这个文件。</li>
<li>  当前项目的 Git 目录中的配置文件（也就是工作目录中的 .git/config 文件）：这里的配置仅仅针对当前项目有效。每一个级别的配置都会覆盖上层的相同配置，所以 .git/config 里的配置会覆盖 /etc/gitconfig 中的同名变量。</li>
</ul>
<p>在 Windows 系统上，Git 会找寻用户主目录下的 .gitconfig 文件。主目录即 $HOME 变量指定的目录，一般都是 C:\Documents and Settings$USER。</p>
<p>此外，Git 还会尝试找寻 /etc/gitconfig 文件，只不过看当初 Git 装在什么目录，就以此作为根目录来定位。</p>
<h4 id="2）配置用户信息"><a href="#2）配置用户信息" class="headerlink" title="2）配置用户信息"></a>2）配置用户信息</h4><p>配置个人的用户名称和电子邮件地址：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name &quot;loen&quot;</span><br><span class="line">$ git config --global user.email loen@w3cschool.cn</span><br></pre></td></tr></table></figure>
<p>如果用了 –global 选项，那么更改的配置文件就是位于你用户主目录下的那个，以后你所有的项目都会默认使用这里配置的用户信息。</p>
<p>如果要在某个特定的项目中使用其他名字或者邮件，只要去掉 –global 选项重新配置即可，新的设定保存在当前项目的 .git/config 文件里。</p>
<h4 id="3）查看配置信息"><a href="#3）查看配置信息" class="headerlink" title="3）查看配置信息"></a>3）查看配置信息</h4><p>要检查已有的配置信息，可以使用 <strong>git config –list</strong> 命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git config --list</span><br><span class="line">http.postbuffer&#x3D;2M</span><br><span class="line">user.name&#x3D;loen</span><br><span class="line">user.email&#x3D;loen@w3cschool.cn</span><br></pre></td></tr></table></figure>
<p>有时候会看到重复的变量名，那就说明它们来自不同的配置文件（比如 /etc/gitconfig 和 ~/.gitconfig），不过最终 Git 实际采用的是最后一个。</p>
<p>这些配置我们也可以在 ~/.gitconfig 或 /etc/gitconfig 看到，如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~&#x2F;.gitconfig </span><br></pre></td></tr></table></figure>
<p>显示内容如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[http]</span><br><span class="line">    postBuffer &#x3D; 2M</span><br><span class="line">[user]</span><br><span class="line">    name &#x3D; loen</span><br><span class="line">    email &#x3D; loen@w3cschool.cn</span><br></pre></td></tr></table></figure>


<h4 id="4）其他配置记录"><a href="#4）其他配置记录" class="headerlink" title="4）其他配置记录"></a>4）其他配置记录</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.editor vim  # 配置默认编辑器</span><br></pre></td></tr></table></figure>


<h3 id="2、忽略特殊文件"><a href="#2、忽略特殊文件" class="headerlink" title="2、忽略特殊文件"></a>2、忽略特殊文件</h3><p>有时你必须把某些文件放入 Git 工作目录中, 又不能将其提交, 比如:存储了数据库密码的配置文件.</p>
<p>我们只需在 Git 工作区的根目录下创建一个名为 .gitignore 的文件, 写入过滤规则就行了.</p>
<p>.gitignore 文件不需要从头写，GitHub 已经为我们准备了各种配置文件，只需根据需要组合一下就可以使用了。所有配置文件可以直接在线浏览：<a target="_blank" rel="noopener" href="https://github.com/github/gitignore">https://github.com/github/gitignore</a></p>
<p>忽略文件的原则是：</p>
<ol>
<li> 忽略操作系统自动生成的文件，比如缩略图等；</li>
<li> 忽略编译生成的中间文件、可执行文件等，也就是如果一个文件是通过另一个文件自动生成的，那自动生成的文件就没必要放进版本库，比如 Java 编译产生的 .class 文件；</li>
<li> 忽略你自己的带有敏感信息的配置文件，比如存放口令的配置文件。</li>
</ol>
<p>例如, 这是 java 项目的 .gitignore 文件</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># Compiled class file</span><br><span class="line">*.class</span><br><span class="line"></span><br><span class="line"># Log file</span><br><span class="line">*.log</span><br><span class="line"></span><br><span class="line"># BlueJ files</span><br><span class="line">*.ctxt</span><br><span class="line"></span><br><span class="line"># Mobile Tools for Java (J2ME)</span><br><span class="line">.mtj.tmp&#x2F;</span><br><span class="line"></span><br><span class="line"># Package Files #</span><br><span class="line">*.jar</span><br><span class="line">*.war</span><br><span class="line">*.ear</span><br><span class="line">*.zip</span><br><span class="line">*.tar.gz</span><br><span class="line">*.rar</span><br><span class="line"></span><br><span class="line"># virtual machine crash logs, see http:&#x2F;&#x2F;www.java.com&#x2F;en&#x2F;download&#x2F;help&#x2F;error_hotspot.xml</span><br><span class="line">hs_err_pid*</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/git/" rel="tag"># git</a>
              <a href="/tags/%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/" rel="tag"># 版本管理工具</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/02/18/Mysql%E6%80%BB%E7%BB%93/" rel="prev" title="Mysql总结">
      <i class="fa fa-chevron-left"></i> Mysql总结
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/02/27/%E4%BF%AE%E6%94%B9Win10%E7%BB%88%E7%AB%AF%E7%BC%96%E7%A0%81%E4%B8%BAUTF8/" rel="next" title="修改Win10终端编码为UTF8">
      修改Win10终端编码为UTF8 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0"><span class="nav-number">1.</span> <span class="nav-text">Git学习笔记</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E3%80%81Git%E5%9F%BA%E7%A1%80"><span class="nav-number">1.1.</span> <span class="nav-text">一、Git基础</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81Git%E7%AE%80%E4%BB%8B"><span class="nav-number">1.1.1.</span> <span class="nav-text">1、Git简介</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%EF%BC%89Git%E7%AE%80%E4%BB%8B"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">1）Git简介</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%EF%BC%89Git-%E7%AE%80%E5%8F%B2"><span class="nav-number">1.1.1.2.</span> <span class="nav-text">2）Git 简史</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%EF%BC%89Git-%E4%B8%8E-SVN-%E5%8C%BA%E5%88%AB"><span class="nav-number">1.1.1.3.</span> <span class="nav-text">3）Git 与 SVN 区别</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81Git%E5%AE%89%E8%A3%85"><span class="nav-number">1.1.2.</span> <span class="nav-text">2、Git安装</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%EF%BC%89Git%E5%AE%89%E8%A3%85"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">1）Git安装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%EF%BC%89%E5%9C%A8-Linux-%E5%B9%B3%E5%8F%B0%E4%B8%8A%E5%AE%89%E8%A3%85"><span class="nav-number">1.1.2.2.</span> <span class="nav-text">2）在 Linux 平台上安装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%EF%BC%89%E5%9C%A8-Windows-%E5%B9%B3%E5%8F%B0%E4%B8%8A%E5%AE%89%E8%A3%85"><span class="nav-number">1.1.2.3.</span> <span class="nav-text">3）在 Windows 平台上安装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4%EF%BC%89%E5%9C%A8-Mac-%E5%B9%B3%E5%8F%B0%E4%B8%8A%E5%AE%89%E8%A3%85"><span class="nav-number">1.1.2.4.</span> <span class="nav-text">4）在 Mac 平台上安装</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81Git%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="nav-number">1.1.3.</span> <span class="nav-text">3、Git工作流程</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%EF%BC%89Git%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="nav-number">1.1.3.1.</span> <span class="nav-text">1）Git工作流程</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%EF%BC%89Git-%E5%B7%A5%E4%BD%9C%E5%8C%BA%E3%80%81%E6%9A%82%E5%AD%98%E5%8C%BA%E5%92%8C%E7%89%88%E6%9C%AC%E5%BA%93"><span class="nav-number">1.1.3.2.</span> <span class="nav-text">2）Git 工作区、暂存区和版本库</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="nav-number">1.2.</span> <span class="nav-text">二、基本操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E5%88%9B%E5%BB%BA%E7%89%88%E6%9C%AC%E5%BA%93"><span class="nav-number">1.2.1.</span> <span class="nav-text">1、创建版本库</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%EF%BC%89%E5%88%9B%E5%BB%BA%E7%89%88%E6%9C%AC%E5%BA%93-git-init"><span class="nav-number">1.2.1.1.</span> <span class="nav-text">1）创建版本库 ( git init )</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E6%B7%BB%E5%8A%A0%E5%88%B0%E6%9A%82%E5%AD%98%E5%8C%BA"><span class="nav-number">1.2.2.</span> <span class="nav-text">2、添加到暂存区</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%EF%BC%89%E6%B7%BB%E5%8A%A0%E5%88%B0%E6%9A%82%E5%AD%98%E5%8C%BA-git-add"><span class="nav-number">1.2.2.1.</span> <span class="nav-text">1）添加到暂存区 ( git add )</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#git-add-%E6%89%A9%E5%B1%95"><span class="nav-number">1.2.2.1.1.</span> <span class="nav-text">git add 扩展</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E6%9F%A5%E7%9C%8B%E7%8A%B6%E6%80%81"><span class="nav-number">1.2.3.</span> <span class="nav-text">3、查看状态</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%EF%BC%89%E6%9F%A5%E7%9C%8B%E7%8A%B6%E6%80%81-git-status"><span class="nav-number">1.2.3.1.</span> <span class="nav-text">1）查看状态 ( git status )</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81%E6%9F%A5%E7%9C%8B%E6%94%B9%E5%8A%A8"><span class="nav-number">1.2.4.</span> <span class="nav-text">4、查看改动</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%EF%BC%89%E6%9F%A5%E7%9C%8B%E6%94%B9%E5%8A%A8-git-diff"><span class="nav-number">1.2.4.1.</span> <span class="nav-text">1）查看改动 ( git diff )</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5%E3%80%81%E5%90%91%E4%BB%93%E5%BA%93%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81"><span class="nav-number">1.2.5.</span> <span class="nav-text">5、向仓库提交代码</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%EF%BC%89%E5%90%91%E4%BB%93%E5%BA%93%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81-git-commit"><span class="nav-number">1.2.5.1.</span> <span class="nav-text">1）向仓库提交代码 ( git commit )</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6%E3%80%81%E5%8F%96%E6%B6%88%E5%B7%B2%E7%BC%93%E5%AD%98%E7%9A%84%E5%86%85%E5%AE%B9"><span class="nav-number">1.2.6.</span> <span class="nav-text">6、取消已缓存的内容</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%EF%BC%89%E5%8F%96%E6%B6%88%E5%B7%B2%E7%BC%93%E5%AD%98%E7%9A%84%E5%86%85%E5%AE%B9-git-reset-HEAD"><span class="nav-number">1.2.6.1.</span> <span class="nav-text">1）取消已缓存的内容 ( git reset HEAD )</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7%E3%80%81%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6"><span class="nav-number">1.2.7.</span> <span class="nav-text">7、删除文件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%EF%BC%89%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6-git-rm"><span class="nav-number">1.2.7.1.</span> <span class="nav-text">1）删除文件 ( git rm )</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8%E3%80%81%E7%A7%BB%E5%8A%A8-%E9%87%8D%E5%91%BD%E5%90%8D"><span class="nav-number">1.2.8.</span> <span class="nav-text">8、移动&#x2F;重命名</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="nav-number">1.3.</span> <span class="nav-text">三、远程仓库</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E6%B7%BB%E5%8A%A0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="nav-number">1.3.1.</span> <span class="nav-text">1、添加远程仓库</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%EF%BC%89%E6%B7%BB%E5%8A%A0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="nav-number">1.3.1.1.</span> <span class="nav-text">1）添加远程仓库</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E6%9B%B4%E6%96%B0%E6%95%B0%E6%8D%AE"><span class="nav-number">1.3.2.</span> <span class="nav-text">3、更新数据</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%EF%BC%89git-fetch%EF%BC%9A"><span class="nav-number">1.3.2.1.</span> <span class="nav-text">1）git fetch：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%EF%BC%89git-pull%EF%BC%9A"><span class="nav-number">1.3.2.2.</span> <span class="nav-text">2）git pull：</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9B%E3%80%81Git%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86"><span class="nav-number">1.4.</span> <span class="nav-text">四、Git分支管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81Git%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86"><span class="nav-number">1.4.1.</span> <span class="nav-text">1、Git分支管理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%EF%BC%89Git%E5%88%86%E6%94%AF%E5%8E%9F%E7%90%86"><span class="nav-number">1.4.1.1.</span> <span class="nav-text">1）Git分支原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%EF%BC%89%E5%88%86%E6%94%AF%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4"><span class="nav-number">1.4.1.2.</span> <span class="nav-text">2）分支基础命令</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E6%9F%A5%E7%9C%8B%E4%B8%8E%E6%96%B0%E5%BB%BA%E5%88%86%E6%94%AF"><span class="nav-number">1.4.2.</span> <span class="nav-text">2、查看与新建分支</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%EF%BC%89%E5%88%97%E5%87%BA%E5%88%86%E6%94%AF-git-branch"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">1）列出分支 ( git branch )</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%EF%BC%89%E5%88%9B%E5%BB%BA%E6%96%B0%E5%88%86%E6%94%AF-git-branch-%E5%88%86%E6%94%AF%E5%90%8D"><span class="nav-number">1.4.2.2.</span> <span class="nav-text">2）创建新分支 ( git branch 分支名)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E5%88%86%E6%94%AF%E5%90%88%E5%B9%B6"><span class="nav-number">1.4.3.</span> <span class="nav-text">3、分支合并</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81%E5%88%A0%E9%99%A4%E5%88%86%E6%94%AF"><span class="nav-number">1.4.4.</span> <span class="nav-text">4、删除分支</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5%E3%80%81%E8%A7%A3%E5%86%B3%E5%86%B2%E7%AA%81"><span class="nav-number">1.4.5.</span> <span class="nav-text">5、解决冲突</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6%E3%80%81%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86%E7%AD%96%E7%95%A5"><span class="nav-number">1.4.6.</span> <span class="nav-text">6、分支管理策略</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%EF%BC%89%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86%E7%AD%96%E7%95%A5"><span class="nav-number">1.4.6.1.</span> <span class="nav-text">1）分支管理策略</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%EF%BC%89%E5%88%86%E6%94%AF%E7%AD%96%E7%95%A5"><span class="nav-number">1.4.6.2.</span> <span class="nav-text">2）分支策略</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7%E3%80%81%E5%A4%9A%E4%BA%BA%E5%8D%8F%E4%BD%9C"><span class="nav-number">1.4.7.</span> <span class="nav-text">7、多人协作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%EF%BC%89%E6%9F%A5%E7%9C%8B%E8%BF%9C%E7%A8%8B%E5%BA%93%E4%BF%A1%E6%81%AF"><span class="nav-number">1.4.7.1.</span> <span class="nav-text">1）查看远程库信息</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%EF%BC%89%E6%8E%A8%E9%80%81%E5%88%86%E6%94%AF"><span class="nav-number">1.4.7.2.</span> <span class="nav-text">2）推送分支</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%EF%BC%89%E5%A4%9A%E4%BA%BA%E5%8D%8F%E4%BD%9C"><span class="nav-number">1.4.7.3.</span> <span class="nav-text">3）多人协作</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%94%E3%80%81%E5%9B%9E%E9%80%80%E4%B8%8E%E6%92%A4%E9%94%80"><span class="nav-number">1.5.</span> <span class="nav-text">五、回退与撤销</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E6%92%A4%E9%94%80%E4%BF%AE%E6%94%B9"><span class="nav-number">1.5.1.</span> <span class="nav-text">1、撤销修改</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95"><span class="nav-number">1.5.2.</span> <span class="nav-text">2、历史记录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E7%89%88%E6%9C%AC%E5%9B%9E%E9%80%80"><span class="nav-number">1.5.3.</span> <span class="nav-text">3、版本回退</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%AD%E3%80%81%E6%A0%87%E7%AD%BE%E7%AE%A1%E7%90%86"><span class="nav-number">1.6.</span> <span class="nav-text">六、标签管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E5%88%9B%E5%BB%BA%E6%A0%87%E7%AD%BE"><span class="nav-number">1.6.1.</span> <span class="nav-text">1、创建标签</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%EF%BC%89%E5%88%9B%E5%BB%BA%E6%A0%87%E7%AD%BE"><span class="nav-number">1.6.1.1.</span> <span class="nav-text">1）创建标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%EF%BC%89%E5%88%9B%E5%BB%BA%E5%B8%A6%E6%9C%89%E8%AF%B4%E6%98%8E%E7%9A%84%E6%A0%87%E7%AD%BE"><span class="nav-number">1.6.1.2.</span> <span class="nav-text">2）创建带有说明的标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%EF%BC%89%E6%9F%A5%E7%9C%8B%E6%A0%87%E7%AD%BE%E4%BF%A1%E6%81%AF-git-show-%E6%A0%87%E7%AD%BE%E5%90%8D"><span class="nav-number">1.6.1.3.</span> <span class="nav-text">3）查看标签信息 ( git show 标签名 )</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E6%93%8D%E4%BD%9C%E6%A0%87%E7%AD%BE"><span class="nav-number">1.6.2.</span> <span class="nav-text">2、操作标签</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%83%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89Git"><span class="nav-number">1.7.</span> <span class="nav-text">七、自定义Git</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81Git%E9%85%8D%E7%BD%AE"><span class="nav-number">1.7.1.</span> <span class="nav-text">1、Git配置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%EF%BC%89Git-%E9%85%8D%E7%BD%AE"><span class="nav-number">1.7.1.1.</span> <span class="nav-text">1）Git 配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%EF%BC%89%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="nav-number">1.7.1.2.</span> <span class="nav-text">2）配置用户信息</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%EF%BC%89%E6%9F%A5%E7%9C%8B%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF"><span class="nav-number">1.7.1.3.</span> <span class="nav-text">3）查看配置信息</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4%EF%BC%89%E5%85%B6%E4%BB%96%E9%85%8D%E7%BD%AE%E8%AE%B0%E5%BD%95"><span class="nav-number">1.7.1.4.</span> <span class="nav-text">4）其他配置记录</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E5%BF%BD%E7%95%A5%E7%89%B9%E6%AE%8A%E6%96%87%E4%BB%B6"><span class="nav-number">1.7.2.</span> <span class="nav-text">2、忽略特殊文件</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="JeepWang"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">JeepWang</p>
  <div class="site-description" itemprop="description">记录成长过程中的点点滴滴。</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">8</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JeepWang</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
